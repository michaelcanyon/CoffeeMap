@page "{id:int}"
@model CoffeeMapServer.Views.Admin.RoasterViews.EditRoasterModel
@section scripts{
    <script type="text/javascript" src="~/dist/jquery-1.8.3.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="~/dist/jquery.maskedInput.js"></script>
    <script>
        $(function () {

            $("#contactnumber").mask('+9-(999)-999-99-99');
        });
    </script>
    <script>
        function AddTag()
        {
            var newTag = document.getElementById('TagPart').value;
            if (newTag != "") {
                var newElement = document.createElement("li");
                newElement.innerHTML = newTag;
                document.getElementById("tagList").appendChild(newElement);
                document.getElementById("addTags").value += newTag+"#";
            }

        }
        function DeleteTag() {
            var newTag = document.getElementById('TagPart').value;
            if (newTag != "") {
                var children = document.getElementById("tagList").childNodes;
                for (var i in children) {
                    if (i.value == newTag)
                    {
                        var del = i;
                        del.remove();
                    }
                }
                document.getElementById("deleteTags").value += newTag + "#";
            }

        }
    </script>
}
<section class="content-header">
    <h1>
        Update roaster
    </h1>
</section>
<!-- Main content -->
<section class="content container-fluid">
    <form method="post">
        <div class="form-group">
            <label for="Id">Id</label>
            <input type="hidden" class="form-control" asp-for="@Model.roaster.Id" value="@Model.roaster.Id">
        </div>
        <div class="form-group">
            <label for="Name">Name</label>
            <input type="text" maxlength="30" class="form-control" asp-for="@Model.roaster.Name" required>
            <label for="phone">Contact number</label>
            <input type="text" id="contactnumber" pattern="+7-([0-9]){3}-[0-9]{3}-[0-9]{2}-[0-9]{2}" class="form-control" asp-for="@Model.roaster.ContactNumber" required>
            <label for="mail">Email</label>
            <input type="text" id="email" class="form-control" asp-for="@Model.roaster.ContactEmail">
            <label>Tags:</label>
            <ul id="tagList">
                @if (Model.tagsList.Count > 0)
                {
                    foreach (var i in Model.tagsList)
                    {
                        <li>@i</li>
                    }
                }
            </ul>
            <label>Add/Remove Tag:</label>
            <input type="hidden" id="addTags" value="" asp-for="@Model.tags">
            <input type="hidden" id="deleteTags" value="" asp-for="@Model.deletableTags">
            <input type="Text" class="form-control" id="TagPart">
            <button type="button" onclick="AddTag()">Add Tag</button>
            <button type="button" onclick="DeleteTag()">Delete Tag</button>
            <label for="address">addressId</label>
            <input type="number" class="form-control" asp-for="@Model.roaster.OfficeAddressId" required>
            <label for="website">Web-site link</label>
            <input type="text" pattern="[A-Za-zА-Яа-яЁё]{,}.[A-Za-zА-Яа-яЁё]{,10}" class="form-control" asp-for="@Model.roaster.WebSiteLink">
            <label for="instagram">instagram link</label>
            <input type="text" class="form-control" asp-for="@Model.roaster.InstagramProfileLink">
            <label for="vk">vk link</label>
            <input type="text" class="form-control" asp-for="@Model.roaster.VkProfileLink">
            <label for="telegram">Telegram link</label>
            <input type="text" class="form-control" asp-for="@Model.roaster.TelegramProfileLink">
        </div>
        <button type="submit" asp-page-handler="Process" class="btn btn-primary">Submit</button>
    </form>
</section>